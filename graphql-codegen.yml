add-plugin-content: &add-plugin-content
  content: >
    /*
     * ðŸ‘‹ Hey there!
     * This file is auto-generated by @graphql-codegen.
     * Don't edit it manually or your changes will be lost.
     */

overwrite: true
schema:
  - "./graphql/*.ts"
  - "./graphql/scalars/*.ts"
documents: "components/**/*.graphql"
generates:
  graphql/types.ts:
    plugins:
      - add:
          <<: *add-plugin-content
      - typescript
      - typescript-resolvers
    config:
      contextType: ./index#ApolloContext
      useIndexSignature: true
      # scalars:
      #   DateTime: Date
      mapperTypeSuffix: Prisma
      mappers:
        User: "@prisma/client/index.d#User"
  components/:
    preset: near-operation-file
    presetConfig:
      baseTypesPath: ../graphql/types.ts
      extension: .ts
    plugins:
      - add:
          <<: *add-plugin-content
      - typescript-operations
      - typescript-react-apollo
