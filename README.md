# notfinished

A calendar app + to do list for planning your unfinished things

## Getting started

- Copy the contents of `.env.example` to a `.env` file and fill in the necessary values
- Install dependencies with `yarn install`
- Get your database running with `yarn prisma migrate dev`
- Generate GraphQL types with `yarn generate:graphql`
- Run the app with `yarn dev`
- Open [http://localhost:3000](http://localhost:3000)

## Overview

#### The database

The database is powered by `prisma`. To make changes to the schema, change `prisma/schema.prisma` and run `yarn prisma migrate dev --name YourMigrationName`.

#### The API

The app is powered by a GraphQL API. The types, mutations, custom scalars, etc. live in the `graphql/` directory, and a function to power up an apollo server with the assembled definitions is exported from `graphql/index.ts`.

The API itself is served from a [Next.js API route](https://nextjs.org/docs/api-routes/introduction) located in `pages/api/graphql.ts`

#### Types

TypeScript types for the GraphQL schema are autogenerated using GraphQL Codegen. If you make a change to any `gql` tagged template literal, run `yarn generate:graphql` to refresh the types.

Database types are provided by prisma and are refreshed when migrations are run; if you ever need to generate these types manually, you can run `yarn prisma generate`.

#### Auth

Auth is powered by [NextAuth](https://next-auth.js.org)
